[2025-11-11 22:40:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 22:41:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 22:41:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 22:41:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 22:41:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 22:41:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 22:41:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 22:42:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 22:42:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 22:42:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 22:57:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 22:59:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 22:59:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 22:59:14] [INFO] app - Created Cloud Provider: aliyun
[2025-11-11 23:01:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:01:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:02:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:02:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:04:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:04:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:04:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:04:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:05:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:06:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:06:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:06:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:06:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:06:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:07:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:08:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:08:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:08:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:08:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:08:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:09:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:09:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:10:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:10:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:10:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:10:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:10:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:10:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:10:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:10:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:10:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:10:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:10:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:10:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:10:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:10:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:10:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:10:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:11:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:11:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:11:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:11:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:11:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:11:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:12:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:12:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:13:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:13:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:13:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:13:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:14:48] [INFO] app - Created Cloud Provider: aliyun
[2025-11-11 23:14:48] [ERROR] app - Unhandled Exception: Object of type CloudCredentialsPlatform is not JSON serializable
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 19, in create_provider
    return Response.success(provider, "åˆ›å»ºæˆåŠŸ")
  File "/Users/kuruth/work/yt-platform/yt-core/app/common/response.py", line 9, in success
    return JSONResponse(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type CloudCredentialsPlatform is not JSON serializable
[2025-11-11 23:15:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:15:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:19:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:19:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:20:20] [WARNING] app - BusinessException: 40010 - äº‘å‚å•†ç¼–ç å·²å­˜åœ¨
[2025-11-11 23:20:40] [INFO] app - Created Cloud Provider: aliyun
[2025-11-11 23:20:40] [ERROR] app - Unhandled Exception: Object of type CloudCredentialsPlatform is not JSON serializable
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 18, in create_provider
    return Response.success(provider, "åˆ›å»ºæˆåŠŸ")
  File "/Users/kuruth/work/yt-platform/yt-core/app/common/response.py", line 9, in success
    return JSONResponse(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type CloudCredentialsPlatform is not JSON serializable
[2025-11-11 23:21:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:21:51] [INFO] app - Created Cloud Provider: aliyun
[2025-11-11 23:21:51] [ERROR] app - Unhandled Exception: Object of type CloudCredentialsPlatform is not JSON serializable
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 18, in create_provider
    return Response.success(provider, "åˆ›å»ºæˆåŠŸ")
  File "/Users/kuruth/work/yt-platform/yt-core/app/common/response.py", line 9, in success
    return JSONResponse(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type CloudCredentialsPlatform is not JSON serializable
[2025-11-11 23:25:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:25:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:29:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:29:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:31:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:33:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:33:49] [INFO] app - Created Cloud Provider: aliyun
[2025-11-11 23:33:49] [ERROR] app - Unhandled Exception: Object of type datetime is not JSON serializable
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 18, in create_provider
    return Response.success(provider, "åˆ›å»ºæˆåŠŸ")
  File "/Users/kuruth/work/yt-platform/yt-core/app/common/response.py", line 59, in success
    return JSONResponse(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type datetime is not JSON serializable
[2025-11-11 23:36:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:36:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:37:07] [INFO] app - Created Cloud Provider: aliyun
[2025-11-11 23:39:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:39:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:40:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:40:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:40:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:40:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:40:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:40:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:41:23] [INFO] app - Updated Cloud Provider: 1
[2025-11-11 23:41:44] [INFO] app - Deleted Cloud Provider: 1
[2025-11-11 23:43:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:43:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:43:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:43:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:43:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:43:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:57:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:57:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:57:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:57:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:58:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:58:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:58:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:58:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:58:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:58:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:59:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:59:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:59:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:59:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:59:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:59:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:59:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:59:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-11 23:59:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-11 23:59:50] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:00:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:00:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:00:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:00:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:01:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:01:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:01:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:01:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:18:10] [INFO] app - Created Cloud Provider: tengxunyun
[2025-11-12 00:22:24] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:22:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:23:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:23:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:23:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:23:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:23:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:23:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:24:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:24:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:24:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:24:42] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:26:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:26:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 00:26:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 00:26:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:02:47] [INFO] app - Updated Cloud Provider: 2
[2025-11-12 01:03:56] [INFO] app - Updated Cloud Provider: 2
[2025-11-12 01:12:09] [INFO] app - Deleted Cloud Provider: 2
[2025-11-12 01:13:50] [INFO] app - Created Cloud Provider: tengxunyun
[2025-11-12 01:16:25] [WARNING] app - BusinessException: 40010 - äº‘å‚å•†ç¼–ç å·²å­˜åœ¨
[2025-11-12 01:16:37] [WARNING] app - BusinessException: 40010 - äº‘å‚å•†ç¼–ç å·²å­˜åœ¨
[2025-11-12 01:17:28] [WARNING] app - BusinessException: 40010 - äº‘å‚å•†ç¼–ç å·²å­˜åœ¨
[2025-11-12 01:19:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:19:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:19:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:20:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:20:25] [ERROR] app - Unhandled Exception: 
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 18, in create_provider
    provider = CloudProviderService.create(db, data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 17, in create
    raise BusinessException(
app.common.exceptions.BusinessException
[2025-11-12 01:20:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:21:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:22:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:22:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:22:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:22:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:22:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:25:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:25:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:25:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:27:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:27:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:28:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:28:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:28:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:28:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:28:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 01:28:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 01:28:50] [INFO] app - Deleted Cloud Provider: 3
[2025-11-12 10:15:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:21:04] [INFO] app - Created Cloud Provider: aliyun
[2025-11-12 10:24:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:24:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:25:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:25:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:26:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:26:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:26:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:26:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:26:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:26:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:26:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:26:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:27:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:27:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:27:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:27:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:27:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:27:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:32:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:32:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:32:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:32:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:34:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:34:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:35:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:35:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:40:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:40:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:40:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:40:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:43:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:43:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:43:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:43:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:43:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:43:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:44:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:44:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:45:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:45:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:48:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:48:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:48:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:48:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:50:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:50:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:50:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:50:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:50:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:50:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:50:50] [INFO] app - Created Cloud Provider: aliyun
[2025-11-12 10:52:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:52:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:54:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:54:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:54:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:54:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:54:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:54:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:54:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:54:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:55:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:55:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:56:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:56:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:56:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:56:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 10:57:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 10:57:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:37:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:43:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:43:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:43:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:43:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:44:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:44:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:44:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:45:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:45:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:45:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:46:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:46:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:48:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:48:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:48:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:48:42] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:49:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:51:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:51:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:51:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:51:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:51:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:52:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:52:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:53:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:53:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:53:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:53:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:53:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:53:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:53:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:53:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:54:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:54:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:56:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:56:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:57:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:57:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:57:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:57:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 21:58:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 21:58:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:02:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:02:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:05:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:05:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:06:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:06:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:07:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:07:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:07:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:07:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:07:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:07:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:08:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:08:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:08:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:08:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:08:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:08:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:09:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:09:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:10:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:10:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:10:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:10:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:11:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:11:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:11:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:11:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:11:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:11:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:11:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:11:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:11:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:11:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:12:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:12:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:13:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:13:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:13:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:15:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:17:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:17:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:21:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:21:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:23:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:23:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:23:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:23:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:26:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:26:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:26:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:26:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:27:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:28:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:28:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:28:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:30:21] [ERROR] app - Unhandled Exception: 'CloudProviderService' object has no attribute 'db'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 96, in get_aliyun_regions
    data = service.get_aliyun_regions()
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 66, in get_aliyun_regions
    provider = self.get_provider_config("aliyun")
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 54, in get_provider_config
    self.db.query(CloudCredentialsPlatform)
AttributeError: 'CloudProviderService' object has no attribute 'db'
[2025-11-12 22:31:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:31:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:32:04] [ERROR] app - Unhandled Exception: 'CloudProviderService' object has no attribute 'db'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 96, in get_aliyun_regions
    data = service.get_aliyun_regions()
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 66, in get_aliyun_regions
    provider = self.get_provider_config("aliyun")
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 54, in get_provider_config
    self.db.query(CloudCredentialsPlatform)
AttributeError: 'CloudProviderService' object has no attribute 'db'
[2025-11-12 22:34:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:34:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:35:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:35:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:35:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:35:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:35:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:35:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:36:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:36:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:36:46] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'get_by_code'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 96, in get_aliyun_regions
    data = service.get_aliyun_regions()
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 61, in get_aliyun_regions
    provider = self.get_provider_config("aliyun")
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 53, in get_provider_config
    provider = self.repository.get_by_code(provider_code)
AttributeError: 'Session' object has no attribute 'get_by_code'
[2025-11-12 22:40:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:40:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:42:00] [INFO] app - å…±è·å–åˆ° 28 ä¸ªé˜¿é‡Œäº‘ Region
[2025-11-12 22:44:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:44:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:48:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:48:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:49:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:49:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:49:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:49:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:49:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:49:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:49:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:49:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:50:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:50:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:50:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:50:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:51:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:51:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:51:43] [ERROR] app - Unhandled Exception: 'CloudProviderService' object has no attribute 'get_aliyun_regions'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 100, in get_aliyun_regions
    data = service.get_aliyun_regions()
AttributeError: 'CloudProviderService' object has no attribute 'get_aliyun_regions'
[2025-11-12 22:52:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:52:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:53:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:53:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:53:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:53:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:53:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:53:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:53:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:53:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:54:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:54:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:55:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:55:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:55:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:55:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:55:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:55:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:56:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:56:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:56:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:56:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:56:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:57:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:57:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:57:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:58:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:58:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:58:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:58:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:58:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:58:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:58:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:58:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:58:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:58:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 22:59:03] [ERROR] app - Unhandled Exception: list_regions() missing 2 required positional arguments: 'access_key_id' and 'access_key_secret'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 101, in get_aliyun_regions
    result = service.sync_aliyun_regions()
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 71, in sync_aliyun_regions
    regions = AliyunClientFactory.list_regions()
TypeError: list_regions() missing 2 required positional arguments: 'access_key_id' and 'access_key_secret'
[2025-11-12 22:59:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 22:59:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:01:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:01:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:01:22] [INFO] app - å…±è·å–åˆ° 28 ä¸ªé˜¿é‡Œäº‘ Region
[2025-11-12 23:13:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:13:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:14:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:14:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:15:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:17:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:18:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:18:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:18:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:18:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:18:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:18:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:19:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:19:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:19:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:19:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:19:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:19:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:20:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:20:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:20:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:20:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:21:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:21:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:21:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:21:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:21:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:21:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:22:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:22:07] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:22:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:22:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:22:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:22:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:23:45] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'list_page'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 85, in list_providers
    total, items = service.list_providers(page, page_size)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 33, in list_providers
    return self.provider_repo.list_page(page, page_size)
AttributeError: 'Session' object has no attribute 'list_page'
[2025-11-12 23:23:45] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'list_page'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 85, in list_providers
    total, items = service.list_providers(page, page_size)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 33, in list_providers
    return self.provider_repo.list_page(page, page_size)
AttributeError: 'Session' object has no attribute 'list_page'
[2025-11-12 23:23:54] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'list_page'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 85, in list_providers
    total, items = service.list_providers(page, page_size)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 33, in list_providers
    return self.provider_repo.list_page(page, page_size)
AttributeError: 'Session' object has no attribute 'list_page'
[2025-11-12 23:23:54] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'list_page'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 85, in list_providers
    total, items = service.list_providers(page, page_size)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 33, in list_providers
    return self.provider_repo.list_page(page, page_size)
AttributeError: 'Session' object has no attribute 'list_page'
[2025-11-12 23:24:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:24:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:24:27] [ERROR] app - Unhandled Exception: 'int' object has no attribute 'provider_repo'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 85, in list_providers
    total, items = CloudProviderService.list_providers(page, page_size)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 33, in list_providers
    return self.provider_repo.list_page(page, page_size)
AttributeError: 'int' object has no attribute 'provider_repo'
[2025-11-12 23:24:27] [ERROR] app - Unhandled Exception: 'int' object has no attribute 'provider_repo'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 85, in list_providers
    total, items = CloudProviderService.list_providers(page, page_size)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_provider_service.py", line 33, in list_providers
    return self.provider_repo.list_page(page, page_size)
AttributeError: 'int' object has no attribute 'provider_repo'
[2025-11-12 23:25:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:25:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:25:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:25:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:26:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:26:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:26:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:26:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:26:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:26:42] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:26:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:26:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:27:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:27:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:27:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:27:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:28:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:28:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:28:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:28:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:28:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:28:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:33:24] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:33:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:33:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:33:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:34:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:34:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:34:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:34:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:34:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:38:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:38:49] [ERROR] app - Unhandled Exception: AliyunClientFactory() takes no arguments
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_region_controller.py", line 20, in sync_regions
    regions = service.sync_regions(provider_code)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_region_service.py", line 27, in sync_regions
    client = CloudClientFactory.create_client(
  File "/Users/kuruth/work/yt-platform/yt-core/app/clients/cloud_client_factory.py", line 11, in create_client
    return AliyunClientFactory(access_key_id, access_key_secret, endpoint)
TypeError: AliyunClientFactory() takes no arguments
[2025-11-12 23:40:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:40:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:40:56] [ERROR] app - Unhandled Exception: 'list' object has no attribute 'list_regions'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_region_controller.py", line 20, in sync_regions
    regions = service.sync_regions(provider_code)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_region_service.py", line 35, in sync_regions
    regions = client.list_regions()
AttributeError: 'list' object has no attribute 'list_regions'
[2025-11-12 23:45:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:45:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:45:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:45:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:45:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:45:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:45:59] [ERROR] app - Unhandled Exception: 'Client' object has no attribute 'list_regions'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_region_controller.py", line 20, in sync_regions
    regions = service.sync_regions(provider_code)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_region_service.py", line 35, in sync_regions
    regions = client.list_regions()
AttributeError: 'Client' object has no attribute 'list_regions'
[2025-11-12 23:46:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:46:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:46:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:46:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:46:46] [ERROR] app - Unhandled Exception: type object 'CloudClientFactory' has no attribute 'list_regions'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_region_controller.py", line 20, in sync_regions
    regions = service.sync_regions(provider_code)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_region_service.py", line 35, in sync_regions
    regions = CloudClientFactory.list_regions(
AttributeError: type object 'CloudClientFactory' has no attribute 'list_regions'
[2025-11-12 23:53:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:53:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:54:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:54:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:55:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:55:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:56:14] [ERROR] app - Unhandled Exception: 'region_name'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_region_controller.py", line 20, in sync_regions
    regions = service.sync_regions(provider_code)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_region_service.py", line 40, in sync_regions
    self.region_repo.bulk_upsert(provider_code, regions)
  File "/Users/kuruth/work/yt-platform/yt-core/app/repositories/public/cloud_region_repo.py", line 31, in bulk_upsert
    existing.region_name = r["region_name"]
KeyError: 'region_name'
[2025-11-12 23:57:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:57:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:57:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:57:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-12 23:57:47] [ERROR] app - Unhandled Exception: 'region_name'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_region_controller.py", line 20, in sync_regions
    regions = service.sync_regions(provider_code)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_region_service.py", line 42, in sync_regions
    self.region_repo.bulk_upsert(provider_code, regions)
  File "/Users/kuruth/work/yt-platform/yt-core/app/repositories/public/cloud_region_repo.py", line 31, in bulk_upsert
    existing.region_name = r["region_name"]
KeyError: 'region_name'
[2025-11-12 23:58:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-12 23:58:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:01:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:01:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:01:56] [INFO] app - [aliyun] å…±åŒæ­¥ 28 ä¸ª Region
[2025-11-13 00:06:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:06:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:06:22] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-13 00:12:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:13:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:15:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:15:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:17:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:17:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:17:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:17:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:17:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:17:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:17:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:17:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:18:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:18:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:19:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:23:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:23:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:23:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:24:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:24:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:25:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:25:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:27:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:27:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:28:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:28:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:29:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:29:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:30:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:30:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:30:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:30:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:30:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:30:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:31:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:31:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:31:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:31:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:31:24] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:31:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:32:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:32:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:32:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:32:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:32:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:32:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:32:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:32:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:32:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:32:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:33:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:33:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:33:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:41:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:41:35] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-13 00:42:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:42:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:42:34] [ERROR] app - Unhandled Exception: 'AliyunClient' object has no attribute 'list_zones'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_zone_controller.py", line 24, in sync_zones
    return service.sync_zones(provider_code, region_id)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_zone_service.py", line 49, in sync_zones
    zones = client.list_zones(region_id)
AttributeError: 'AliyunClient' object has no attribute 'list_zones'
[2025-11-13 00:43:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:43:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:43:46] [ERROR] app - Unhandled Exception: 'Client' object has no attribute 'config'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_zone_controller.py", line 24, in sync_zones
    return service.sync_zones(provider_code, region_id)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_zone_service.py", line 49, in sync_zones
    zones = client.list_zones(region_id)
  File "/Users/kuruth/work/yt-platform/yt-core/app/clients/aliyun_client.py", line 31, in list_zones
    self.client.config.credentials.access_key_id,
AttributeError: 'Client' object has no attribute 'config'
[2025-11-13 00:44:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:44:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:45:02] [INFO] app - [aliyun][cn-huhehaote] åŒæ­¥ 2 ä¸ªå¯ç”¨åŒº
[2025-11-13 00:45:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:45:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:46:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:46:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:47:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:47:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:47:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:47:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:48:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:48:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:49:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:49:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:49:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:49:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:50:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:50:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:51:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:51:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:51:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:51:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:52:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 00:52:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 00:53:09] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-13 00:53:45] [INFO] app - [aliyun][cn-zhangjiakou] åŒæ­¥ 3 ä¸ªå¯ç”¨åŒº
[2025-11-13 00:53:57] [INFO] app - [aliyun][cn-zhangjiakou] å¯ç”¨åŒºå·²å­˜åœ¨æ•°æ®åº“ï¼Œæ— éœ€åŒæ­¥
[2025-11-13 00:57:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:10:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:13:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:13:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:17:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:17:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:18:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:18:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:19:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:19:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:19:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:19:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:20:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:20:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:20:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:20:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:21:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:21:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:22:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:22:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:22:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:22:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:22:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:22:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:23:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:23:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:23:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:23:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:24:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:24:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:25:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:25:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:25:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:25:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:26:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:26:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:26:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:26:50] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:27:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:27:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:27:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:27:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:27:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:27:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:27:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:27:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:28:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:28:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:31:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:31:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:31:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:31:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:33:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:33:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:33:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:33:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:33:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:33:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:34:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:34:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:40:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:41:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:42:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:42:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:43:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:44:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:44:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:44:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:46:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:46:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:46:11] [ERROR] app - Unhandled Exception: Object of type ResponseModel is not JSON serializable
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 86, in list_providers
    return Response.success(CloudProviderPage(page=page, pageSize=page_size, total=total, items=items))
  File "/Users/kuruth/work/yt-platform/yt-core/app/common/response.py", line 66, in success
    return JSONResponse(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResponseModel is not JSON serializable
[2025-11-13 10:46:11] [ERROR] app - Unhandled Exception: Object of type ResponseModel is not JSON serializable
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_provider_controller.py", line 86, in list_providers
    return Response.success(CloudProviderPage(page=page, pageSize=page_size, total=total, items=items))
  File "/Users/kuruth/work/yt-platform/yt-core/app/common/response.py", line 66, in success
    return JSONResponse(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ResponseModel is not JSON serializable
[2025-11-13 10:46:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:46:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:47:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:47:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:48:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:48:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:50:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:50:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:50:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:50:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:51:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:51:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:56:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:56:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:56:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:56:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:57:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:57:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:58:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:58:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:58:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:58:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:59:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:59:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 10:59:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 10:59:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:03:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:03:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:04:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:04:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:04:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:04:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:07:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:07:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:07:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:07:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:08:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:08:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:09:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:09:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:09:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:09:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:11:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:11:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:11:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:11:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:13:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:13:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:13:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:13:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:13:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:13:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:14:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:14:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:14:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:14:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:15:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:18:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:19:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:19:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:20:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:20:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:20:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:20:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:20:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:20:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:23:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:23:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:24:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:26:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:26:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:27:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:30:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:30:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:33:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:33:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:33:42] [ERROR] app - Unhandled Exception: update_certificates() got an unexpected keyword argument 'cloud_name'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_certificate_controller.py", line 43, in update_provider
    result = service.update_certificates(certificate_id, **data.model_dump(exclude_unset=True))
TypeError: update_certificates() got an unexpected keyword argument 'cloud_name'
[2025-11-13 11:35:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:35:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:36:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:36:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:37:04] [ERROR] app - Unhandled Exception: 'CloudCertificateUpdate' object has no attribute 'items'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_certificate_controller.py", line 43, in update_provider
    result = service.update_certificates(certificate_id, data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_certificate_service.py", line 27, in update_certificates
    return self.cloud_certificate_repo.update(certificate_id, data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/repositories/public/cloud_certificate_repo.py", line 41, in update
    for key, value in data.items():
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pydantic/main.py", line 1026, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'CloudCertificateUpdate' object has no attribute 'items'
[2025-11-13 11:37:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:37:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:38:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:38:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:38:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:38:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:39:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:39:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:39:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:39:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:39:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:39:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:41:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:42:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:42:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:43:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:43:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-13 11:43:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-13 11:43:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 09:49:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 09:51:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 09:51:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 09:51:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 09:51:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 09:52:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 09:52:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 09:54:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 09:54:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:04:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:04:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:04:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:04:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:13:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:13:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:14:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:14:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:15:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:15:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:16:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:16:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:17:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:17:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:18:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:18:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:23:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:23:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:23:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:23:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:23:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:23:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:23:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:23:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:23:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:23:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:24:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:24:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:24:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:24:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:24:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:24:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:24:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:24:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:26:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:26:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:29:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:29:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:33:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:33:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:34:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:34:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:38:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:38:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:39:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:39:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:40:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:40:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:41:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:41:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:42:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:42:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:42:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:42:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:43:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:43:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:44:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:44:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:45:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:45:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:46:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:46:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:46:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:46:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:47:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:47:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:47:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:47:42] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:48:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:48:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:48:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:48:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:50:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:50:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:50:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:50:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:51:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:51:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:51:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 11:51:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 11:52:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 12:03:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 12:03:51] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'list_groups'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_controller.py", line 22, in list_groups
    total, items = service.list_groups(page, page_size)
AttributeError: 'Session' object has no attribute 'list_groups'
[2025-11-14 12:06:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 12:06:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 12:06:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 12:06:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 12:07:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 12:07:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 12:07:32] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'list_groups'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_controller.py", line 22, in list_groups
    total, items = service.list_groups(page, page_size)
AttributeError: 'Session' object has no attribute 'list_groups'
[2025-11-14 12:08:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 12:08:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 12:11:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 12:11:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 12:13:56] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'create_group'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_controller.py", line 25, in create_group
    return service.create_group(data)
AttributeError: 'Session' object has no attribute 'create_group'
[2025-11-14 12:15:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 12:15:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 12:15:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 12:15:42] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:22:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:23:10] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'create_group'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_controller.py", line 24, in create_group
    return service.create_group(data)
AttributeError: 'Session' object has no attribute 'create_group'
[2025-11-14 13:26:52] [ERROR] app - Unhandled Exception: 'Session' object has no attribute 'list_groups'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_controller.py", line 17, in list_groups
    total, items = service.list_groups(page, page_size)
AttributeError: 'Session' object has no attribute 'list_groups'
[2025-11-14 13:29:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 13:29:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:29:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 13:29:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:32:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 13:32:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:32:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 13:32:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:33:24] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 13:33:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:34:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 13:34:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:35:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-14 13:35:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-14 13:37:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:02:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:19:29] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-16 09:19:29] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-16 09:19:32] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-16 09:19:32] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-16 09:22:36] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-16 09:22:36] [INFO] app - [aliyun] å·²æœ‰ 28 ä¸ª Regionï¼Œæ— éœ€é‡å¤åŒæ­¥
[2025-11-16 09:30:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:30:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:30:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:30:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:30:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:30:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:30:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:30:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:31:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:31:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:32:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:32:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:32:24] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:32:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:32:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:32:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:32:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:32:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:32:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:32:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:34:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:34:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:35:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:35:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:35:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:35:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:36:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:36:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:37:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:37:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:40:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:40:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:41:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:41:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:42:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:42:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:42:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:42:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:42:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:42:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:43:28] [ERROR] app - Unhandled Exception: name 'db' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 21, in bind_resource
    service = ResourceGroupBindingService(db)
NameError: name 'db' is not defined
[2025-11-16 09:43:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:43:50] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:45:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:45:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:45:47] [ERROR] app - Unhandled Exception: 'Engine' object is not callable
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 21, in bind_resource
    return service.bind(data)
TypeError: 'Engine' object is not callable
[2025-11-16 09:51:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:51:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:52:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:52:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:52:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:52:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:53:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:53:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:54:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:54:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:54:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:54:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:56:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:56:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:57:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:57:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:58:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 09:58:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 09:59:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:07:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:07:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:07:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:07:39] [ERROR] app - Unhandled Exception: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')
[SQL: INSERT INTO pu_resource_group_binding (resource_group_id, resource_type, resource_id, created_at) VALUES (%(resource_group_id)s, %(resource_type)s, %(resource_id)s, %(created_at)s)]
[parameters: {'resource_group_id': 1, 'resource_type': 'aliyun', 'resource_id': '1', 'created_at': datetime.datetime(2025, 11, 16, 2, 7, 39, 188049, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 22, in bind_resource
    return service.bind(data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/resource_group_binding_service.py", line 22, in bind
    return self.binding_repo.create(data.model_dump())
  File "/Users/kuruth/work/yt-platform/yt-core/app/repositories/public/resource_group_binding_repo.py", line 14, in create
    self.db.commit()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2017, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1302, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1277, in _prepare_impl
    self.session.flush()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4341, in flush
    self._flush(objects)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4477, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4437, in _flush
    flush_context.execute()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2353, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')
[SQL: INSERT INTO pu_resource_group_binding (resource_group_id, resource_type, resource_id, created_at) VALUES (%(resource_group_id)s, %(resource_type)s, %(resource_id)s, %(created_at)s)]
[parameters: {'resource_group_id': 1, 'resource_type': 'aliyun', 'resource_id': '1', 'created_at': datetime.datetime(2025, 11, 16, 2, 7, 39, 188049, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-11-16 10:09:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:09:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:09:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:09:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:09:33] [ERROR] app - Unhandled Exception: è¯¥èµ„æºå·²ç»‘å®šå…¶ä»–èµ„æºç»„
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 19, in bind_resource
    result = service.bind(data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/resource_group_binding_service.py", line 20, in bind
    raise ValueError("è¯¥èµ„æºå·²ç»‘å®šå…¶ä»–èµ„æºç»„")
ValueError: è¯¥èµ„æºå·²ç»‘å®šå…¶ä»–èµ„æºç»„
[2025-11-16 10:11:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:11:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:11:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:11:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:13:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:13:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:13:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:13:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:15:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:15:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:15:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:15:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:15:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:15:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:15:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:15:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:17:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:17:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:19:25] [ERROR] app - Unhandled Exception: name 'BusinessException' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 19, in bind_resource
    result = service.bind(data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/resource_group_binding_service.py", line 20, in bind
    raise BusinessException(
NameError: name 'BusinessException' is not defined
[2025-11-16 10:19:34] [ERROR] app - Unhandled Exception: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')
[SQL: INSERT INTO pu_resource_group_binding (resource_group_id, resource_type, resource_id, created_at) VALUES (%(resource_group_id)s, %(resource_type)s, %(resource_id)s, %(created_at)s)]
[parameters: {'resource_group_id': 3, 'resource_type': 'string', 'resource_id': 'string', 'created_at': datetime.datetime(2025, 11, 16, 2, 19, 34, 372683, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 19, in bind_resource
    result = service.bind(data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/resource_group_binding_service.py", line 25, in bind
    return self.binding_repo.create(data.model_dump())
  File "/Users/kuruth/work/yt-platform/yt-core/app/repositories/public/resource_group_binding_repo.py", line 14, in create
    self.db.commit()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2017, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1302, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1277, in _prepare_impl
    self.session.flush()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4341, in flush
    self._flush(objects)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4477, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4437, in _flush
    flush_context.execute()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2353, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')
[SQL: INSERT INTO pu_resource_group_binding (resource_group_id, resource_type, resource_id, created_at) VALUES (%(resource_group_id)s, %(resource_type)s, %(resource_id)s, %(created_at)s)]
[parameters: {'resource_group_id': 3, 'resource_type': 'string', 'resource_id': 'string', 'created_at': datetime.datetime(2025, 11, 16, 2, 19, 34, 372683, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-11-16 10:20:14] [ERROR] app - Unhandled Exception: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')
[SQL: INSERT INTO pu_resource_group_binding (resource_group_id, resource_type, resource_id, created_at) VALUES (%(resource_group_id)s, %(resource_type)s, %(resource_id)s, %(created_at)s)]
[parameters: {'resource_group_id': 3, 'resource_type': '3', 'resource_id': '2', 'created_at': datetime.datetime(2025, 11, 16, 2, 20, 14, 847703, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 19, in bind_resource
    result = service.bind(data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/resource_group_binding_service.py", line 25, in bind
    return self.binding_repo.create(data.model_dump())
  File "/Users/kuruth/work/yt-platform/yt-core/app/repositories/public/resource_group_binding_repo.py", line 14, in create
    self.db.commit()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2017, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1302, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1277, in _prepare_impl
    self.session.flush()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4341, in flush
    self._flush(objects)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4477, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4437, in _flush
    flush_context.execute()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2353, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 924, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.IntegrityError: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`yt_public`.`pu_resource_group_binding`, CONSTRAINT `pu_resource_group_binding_ibfk_1` FOREIGN KEY (`resource_group_id`) REFERENCES `pu_resource_group` (`id`) ON DELETE CASCADE)')
[SQL: INSERT INTO pu_resource_group_binding (resource_group_id, resource_type, resource_id, created_at) VALUES (%(resource_group_id)s, %(resource_type)s, %(resource_id)s, %(created_at)s)]
[parameters: {'resource_group_id': 3, 'resource_type': '3', 'resource_id': '2', 'created_at': datetime.datetime(2025, 11, 16, 2, 20, 14, 847703, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[2025-11-16 10:22:59] [ERROR] app - Unhandled Exception: name 'BusinessException' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 19, in bind_resource
    result = service.bind(data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/resource_group_binding_service.py", line 20, in bind
    raise BusinessException(
NameError: name 'BusinessException' is not defined
[2025-11-16 10:23:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:23:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:24:08] [ERROR] app - Unhandled Exception: name 'ErrorCode' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/resource_group_binding_controller.py", line 19, in bind_resource
    result = service.bind(data)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/resource_group_binding_service.py", line 22, in bind
    code=ErrorCode.RESOURCE_ALREADY_BOUND,
NameError: name 'ErrorCode' is not defined
[2025-11-16 10:25:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:25:50] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:25:55] [WARNING] app - BusinessException: 40030 - è¯¥èµ„æºå·²ç»‘å®šå…¶ä»–èµ„æºç»„
[2025-11-16 10:31:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:31:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:32:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:32:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:49:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:49:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:49:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:49:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:50:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:50:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:50:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:50:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:51:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:51:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:51:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:51:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 10:51:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 10:56:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:00:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:00:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:00:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:00:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:02:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:02:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:02:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:02:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:02:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:02:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:02:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:02:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:03:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:03:50] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:04:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:04:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:04:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:05:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:05:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:05:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:05:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:05:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:07:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:07:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:07:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:07:42] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:08:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:19:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:34:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:34:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:34:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:34:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:35:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:35:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:37:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:37:50] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:38:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:38:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:38:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:38:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:47:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:47:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:47:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:47:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:48:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:48:42] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:48:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:48:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:48:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:48:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:49:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:49:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:49:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:49:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:52:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:52:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:52:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:53:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:53:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:53:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:54:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:54:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 11:55:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 11:55:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:29:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:34:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:34:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:35:20] [ERROR] app - Unhandled Exception: 10 validation errors for CloudRegionPage
items.0
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32ca0>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.1
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32c40>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.2
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32d30>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.3
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32d60>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.4
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32d90>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.5
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32dc0>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.6
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32df0>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.7
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32e20>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.8
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32e50>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.9
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32e80>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_region_controller.py", line 50, in list_regions
    return Response.success(CloudRegionPage(page=page, pageSize=page_size, total=total, items=items))
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 10 validation errors for CloudRegionPage
items.0
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32ca0>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.1
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32c40>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.2
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32d30>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.3
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32d60>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.4
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32d90>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.5
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32dc0>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.6
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32df0>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.7
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32e20>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.8
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32e50>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
items.9
  Input should be a valid dictionary or instance of CloudRegionOut [type=model_type, input_value=<app.models.public_servic...n object at 0x105b32e80>, input_type=CloudRegion]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
[2025-11-16 20:37:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:37:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:41:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:42:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:45:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:55:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:55:47] [INFO] app - [aliyun] å…±åŒæ­¥ 28 ä¸ª Region
[2025-11-16 20:56:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:56:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:56:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:56:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:56:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:56:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:56:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:56:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:57:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:57:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:58:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:58:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:58:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:58:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:58:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:58:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 20:59:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 20:59:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:01:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:01:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:06:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:06:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:07:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:07:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:09:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:09:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:09:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:09:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:11:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:11:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:13:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:13:50] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:14:10] [INFO] app - [aliyun] åŒºåŸŸå·²å­˜åœ¨æ•°æ®åº“ï¼Œæ— éœ€åŒæ­¥
[2025-11-16 21:16:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:16:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:17:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:19:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:19:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:19:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:21:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:21:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:22:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:22:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:23:33] [ERROR] app - Unhandled Exception: name 'CloudRegionRepository' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/dependencies.py", line 24, in get_cloud_zone_service
    return CloudZoneService(db)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_zone_service.py", line 16, in __init__
    self.region_repo = CloudRegionRepository(db)
NameError: name 'CloudRegionRepository' is not defined
[2025-11-16 21:23:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:23:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:24:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:24:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:25:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:25:07] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:25:13] [ERROR] app - Unhandled Exception: 'CloudZoneService' object has no attribute 'get_by_region'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_zone_controller.py", line 18, in list_zones
    items = service.sync_zones(provider_code, region_id)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_zone_service.py", line 28, in sync_zones
    existing_zones = self.get_by_region(provider_code, region_id)
AttributeError: 'CloudZoneService' object has no attribute 'get_by_region'
[2025-11-16 21:25:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:25:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:29:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:29:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:29:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:29:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:30:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:30:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:30:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:30:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:30:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:30:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:30:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:30:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:30:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:30:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:33:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:33:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:35:44] [ERROR] app - Unhandled Exception: name 'logger' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_zone_controller.py", line 18, in list_zones
    items = service.sync_zones(provider_code, region_id)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_zone_service.py", line 65, in sync_zones
    logger.info(f"[{provider_code}][{region_id}] åŒæ­¥ {len(db_zones)} ä¸ªå¯ç”¨åŒº")
NameError: name 'logger' is not defined
[2025-11-16 21:36:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:36:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:36:33] [INFO] app - [aliyun][cn-qingdao] å¯ç”¨åŒºå·²å­˜åœ¨æ•°æ®åº“ï¼Œæ— éœ€åŒæ­¥
[2025-11-16 21:37:05] [INFO] app - [aliyun][cn-hangzhou] åŒæ­¥ 8 ä¸ªå¯ç”¨åŒº
[2025-11-16 21:37:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:37:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:40:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:44:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:44:45] [ERROR] app - Unhandled Exception: name 'AliyunClientFactory' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/dependencies.py", line 47, in get_vpc_service
    client = AliyunClientFactory.create_client(
NameError: name 'AliyunClientFactory' is not defined
[2025-11-16 21:45:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:45:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:45:49] [ERROR] app - Unhandled Exception: name 'AliyunClientFactory' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/dependencies.py", line 47, in get_vpc_service
    client = AliyunClientFactory.create_client(
NameError: name 'AliyunClientFactory' is not defined
[2025-11-16 21:46:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:46:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:46:27] [ERROR] app - Unhandled Exception: name 'AliyunClientFactory' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/dependencies.py", line 47, in get_vpc_service
    client = AliyunClientFactory.create_client(
NameError: name 'AliyunClientFactory' is not defined
[2025-11-16 21:47:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:47:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:47:37] [ERROR] app - Unhandled Exception: name 'client' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/dependencies.py", line 43, in get_vpc_service
    return VPCService(client)
NameError: name 'client' is not defined
[2025-11-16 21:48:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:48:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:48:13] [ERROR] app - Unhandled Exception: name 'provider_code' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-platform/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-platform/yt-core/app/controllers/public/cloud_vpc_controller.py", line 15, in list_vpcs
    vpcs = service.get_vpcs(region_id)
  File "/Users/kuruth/work/yt-platform/yt-core/app/services/public/cloud_vpc_service.py", line 22, in get_vpcs
    provider = self.provider_repo.get_by_code(provider_code)
NameError: name 'provider_code' is not defined
[2025-11-16 21:49:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:49:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 21:49:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 21:49:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 22:43:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:13:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:24:24] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:24:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:24:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:24:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:25:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:25:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:26:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:26:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:26:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:26:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:26:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:26:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:26:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:26:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:29:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:29:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:30:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:30:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:30:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:30:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:31:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:31:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:32:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:32:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:32:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:32:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:32:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:32:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:32:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:32:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:34:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:34:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:34:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:34:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:35:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:35:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:36:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:36:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:36:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:36:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:37:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:37:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:39:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:39:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:40:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:40:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:40:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:40:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:40:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:40:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:42:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:42:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:42:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:42:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:43:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:43:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:43:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:43:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:43:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:43:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:44:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:44:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:44:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:44:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:45:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:45:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:46:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:46:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:46:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:46:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:46:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:46:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:52:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:52:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-16 23:53:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-16 23:53:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:04:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:04:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:04:22] [ERROR] app - Unhandled Exception: 'public'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await _solve_generator(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 552, in _solve_generator
    return await stack.enter_async_context(cm)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 556, in enter_async_context
    result = await _cm_type.__aenter__(cm)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 175, in __aenter__
    return await self.gen.__anext__()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/concurrency.py", line 35, in contextmanager_in_threadpool
    raise e
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 117, in __enter__
    return next(self.gen)
  File "/Users/kuruth/work/yt-core/app/common/dependencies.py", line 24, in get_public_db
    db = SessionLocal["public"]()
KeyError: 'public'
[2025-11-17 00:05:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:05:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:06:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:06:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:09:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:09:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:09:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:09:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:10:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:10:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:10:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:10:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:11:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:11:07] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:11:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:11:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:11:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:11:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:15:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:15:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:15:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:15:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:16:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:16:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:17:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:17:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:18:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:18:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:18:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:18:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:18:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:18:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:23:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:23:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:23:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 00:23:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 00:23:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:15:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:16:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:16:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:17:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:18:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:19:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:19:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:24:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:24:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:24:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:24:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:26:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:26:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:27:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:27:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:27:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:27:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:27:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:27:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:31:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:31:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:32:53] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:32:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:33:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:33:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:38:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:38:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:39:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:39:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:39:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:39:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:41:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:41:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:43:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:43:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:43:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:43:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:43:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:43:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:44:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:44:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:45:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:45:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:47:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:49:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:49:29] [ERROR] app - Unhandled Exception: name 'sef' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/services/cmp/dependencies.py", line 12, in get_vpc_service
    return VPCService(db)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 19, in __init__
    sef.vpc_repo = VpcRepository(db)
NameError: name 'sef' is not defined
[2025-11-17 10:50:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:50:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:51:04] [ERROR] app - Unhandled Exception: When initializing mapper Mapper[Vpc(cm_vpc)], expression 'Vpc.resource_group_id==ResourceGroup.id' failed to locate a name ("name 'ResourceGroup' is not defined"). If this is a class name, consider adding this relationship() to the <class 'app.models.cmp.vpc.Vpc'> class after both dependent classes have been defined.
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/clsregistry.py", line 533, in __call__
    x = eval(self.arg, globals(), self._dict)
  File "<string>", line 1, in <module>
NameError: name 'ResourceGroup' is not defined

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/vpc_controller.py", line 24, in list_vpcs
    items = service.sync_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 25, in sync_vpcs
    existing_vpc = self.lis_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 63, in lis_vpcs
    return self.vpc_repo.get_by_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/repositories/cmp/vpc_repo.py", line 44, in get_by_vpcs
    self.db.query(Vpc)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 288, in _set_entities
    self._raw_columns = [
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 289, in <listcomp>
    coercions.expect(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 4259, in _do_configure_registries
    mapper._post_configure_properties()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/interfaces.py", line 595, in init
    self.do_init()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 1654, in do_init
    self._process_dependent_arguments()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 1695, in _process_dependent_arguments
    rel_arg._resolve_against_registry(self._clsregistry_resolvers[1])
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/relationships.py", line 270, in _resolve_against_registry
    self.resolved = clsregistry_resolver(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/clsregistry.py", line 540, in __call__
    self._raise_for_name(n.args[0], n)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[Vpc(cm_vpc)], expression 'Vpc.resource_group_id==ResourceGroup.id' failed to locate a name ("name 'ResourceGroup' is not defined"). If this is a class name, consider adding this relationship() to the <class 'app.models.cmp.vpc.Vpc'> class after both dependent classes have been defined.
[2025-11-17 10:55:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:55:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:55:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:55:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:56:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:56:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 10:57:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 10:57:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:01:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:01:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:02:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:02:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:02:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:02:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:03:14] [ERROR] app - Unhandled Exception: type object 'Vpc' has no attribute 'cloud_provider_id'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/vpc_controller.py", line 24, in list_vpcs
    items = service.sync_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 25, in sync_vpcs
    existing_vpc = self.lis_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 63, in lis_vpcs
    return self.vpc_repo.get_by_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/repositories/cmp/vpc_repo.py", line 46, in get_by_vpcs
    Vpc.cloud_provider_id == provider_code,  # type: ignore
AttributeError: type object 'Vpc' has no attribute 'cloud_provider_id'
[2025-11-17 11:04:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:04:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:05:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:05:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:06:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:06:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:06:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:06:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:07:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:07:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:07:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:07:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:10:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:10:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:10:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:10:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:10:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:10:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:11:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:11:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:11:20] [ERROR] app - Unhandled Exception: type object 'Vpc' has no attribute 'zone_id'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/vpc_controller.py", line 24, in list_vpcs
    items = service.sync_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 25, in sync_vpcs
    existing_vpc = self.lis_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 63, in lis_vpcs
    return self.vpc_repo.get_by_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/repositories/cmp/vpc_repo.py", line 54, in get_by_vpcs
    .order_by(Vpc.zone_id)
AttributeError: type object 'Vpc' has no attribute 'zone_id'
[2025-11-17 11:11:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:11:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:11:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:11:55] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:11:57] [ERROR] app - Unhandled Exception: (pymysql.err.ProgrammingError) (1146, "Table 'yt_cmp.pu_cloud_credentials_platform' doesn't exist")
[SQL: SELECT pu_cloud_credentials_platform.id AS pu_cloud_credentials_platform_id, pu_cloud_credentials_platform.provider_code AS pu_cloud_credentials_platform_provider_code, pu_cloud_credentials_platform.provider_name AS pu_cloud_credentials_platform_provider_name, pu_cloud_credentials_platform.access_key_id AS pu_cloud_credentials_platform_access_key_id, pu_cloud_credentials_platform.access_key_secret AS pu_cloud_credentials_platform_access_key_secret, pu_cloud_credentials_platform.endpoint AS pu_cloud_credentials_platform_endpoint, pu_cloud_credentials_platform.description AS pu_cloud_credentials_platform_description, pu_cloud_credentials_platform.created_at AS pu_cloud_credentials_platform_created_at, pu_cloud_credentials_platform.updated_at AS pu_cloud_credentials_platform_updated_at 
FROM pu_cloud_credentials_platform 
WHERE pu_cloud_credentials_platform.provider_code = %(provider_code_1)s 
 LIMIT %(param_1)s]
[parameters: {'provider_code_1': 'aliyun', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.ProgrammingError: (1146, "Table 'yt_cmp.pu_cloud_credentials_platform' doesn't exist")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/vpc_controller.py", line 24, in list_vpcs
    items = service.sync_vpcs(provider_code, region_id)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 30, in sync_vpcs
    provider = self.provider_repo.get_by_code(provider_code)
  File "/Users/kuruth/work/yt-core/app/repositories/public/cloud_provider_repo.py", line 24, in get_by_code
    return self.db.query(CloudCredentialsPlatform).filter_by(provider_code=provider_code).first()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'yt_cmp.pu_cloud_credentials_platform' doesn't exist")
[SQL: SELECT pu_cloud_credentials_platform.id AS pu_cloud_credentials_platform_id, pu_cloud_credentials_platform.provider_code AS pu_cloud_credentials_platform_provider_code, pu_cloud_credentials_platform.provider_name AS pu_cloud_credentials_platform_provider_name, pu_cloud_credentials_platform.access_key_id AS pu_cloud_credentials_platform_access_key_id, pu_cloud_credentials_platform.access_key_secret AS pu_cloud_credentials_platform_access_key_secret, pu_cloud_credentials_platform.endpoint AS pu_cloud_credentials_platform_endpoint, pu_cloud_credentials_platform.description AS pu_cloud_credentials_platform_description, pu_cloud_credentials_platform.created_at AS pu_cloud_credentials_platform_created_at, pu_cloud_credentials_platform.updated_at AS pu_cloud_credentials_platform_updated_at 
FROM pu_cloud_credentials_platform 
WHERE pu_cloud_credentials_platform.provider_code = %(provider_code_1)s 
 LIMIT %(param_1)s]
[parameters: {'provider_code_1': 'aliyun', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2025-11-17 11:13:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:13:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:13:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:13:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:14:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:14:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:20:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:20:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:20:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:22:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:22:19] [ERROR] app - Unhandled Exception: __init__() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/services/cmp/dependencies.py", line 14, in get_vpc_service
    return VPCService(cmp_db, public_db)
TypeError: __init__() takes 2 positional arguments but 3 were given
[2025-11-17 11:23:36] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:23:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:23:45] [ERROR] app - Unhandled Exception: name 'db' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/services/cmp/dependencies.py", line 14, in get_vpc_service
    return VPCService(cmp_db, public_db)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 17, in __init__
    self.db = db
NameError: name 'db' is not defined
[2025-11-17 11:24:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:24:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:24:08] [ERROR] app - Unhandled Exception: name 'db' is not defined
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 381, in app
    solved_result = await solve_dependencies(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/dependencies/utils.py", line 646, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/services/cmp/dependencies.py", line 14, in get_vpc_service
    return VPCService(cmp_db, public_db)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 19, in __init__
    self.vpc_repo = VpcRepository(db)
NameError: name 'db' is not defined
[2025-11-17 11:24:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:24:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:24:45] [INFO] app - [aliyun][cn-qingdao] åŒæ­¥ 0 ä¸ªvpc
[2025-11-17 11:25:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:25:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:26:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:26:07] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:26:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:26:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:26:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:26:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:27:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:27:07] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:27:24] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:27:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:27:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:27:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:28:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:28:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:32:24] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:32:24] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:33:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:33:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:33:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:33:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:33:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:33:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:33:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:33:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:34:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:34:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:35:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:35:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:35:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:35:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:35:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:36:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:38:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:38:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:41:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:41:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:44:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:44:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 11:46:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 11:46:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 16:58:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:19:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:24:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:24:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:24:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:24:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:24:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:24:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:25:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:25:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:26:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:26:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:27:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:27:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:27:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:27:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:28:15] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:28:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:29:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:29:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:29:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:29:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:29:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:29:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:29:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:29:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:29:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:29:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:30:08] [INFO] app - [aliyun][cn-qingdao] åŒæ­¥ 0 ä¸ªvpc
[2025-11-17 21:46:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:46:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:48:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:48:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:49:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:49:07] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:49:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:49:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:49:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:49:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:50:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 21:50:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 21:58:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:01:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:01:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:01:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:01:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:01:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:08:41] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:08:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:08:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:08:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:09:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:09:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:09:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:09:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:10:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:10:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:11:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:11:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:11:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:11:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:11:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:11:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:11:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:11:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:11:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:11:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:12:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:12:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:13:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:13:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:13:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:13:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:15:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:15:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:16:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:16:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:17:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:17:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:17:59] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:17:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:19:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:19:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:21:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:21:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:23:01] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:23:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:23:19] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:23:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:24:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:24:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:25:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:25:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:27:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:27:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:31:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:31:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:31:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:31:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:32:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:32:29] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:32:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:32:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:33:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:35:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:35:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:35:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:35:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:35:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:36:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:36:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:36:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:36:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:36:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:36:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:37:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:37:00] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:37:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:37:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:38:02] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:38:02] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:39:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:39:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:39:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:43:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:43:23] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:43:36] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:44:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:44:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:45:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:45:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:45:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:45:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:45:25] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:45:25] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:50:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:50:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:51:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:53:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:53:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:53:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:54:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:54:04] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:54:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:54:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:55:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:55:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:56:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:56:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:57:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:57:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:58:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:58:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:58:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:58:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:58:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:58:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 22:58:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 22:58:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:00:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:00:21] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:01:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:01:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:01:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:01:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:01:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:01:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:02:26] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:02:26] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:03:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:03:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:04:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:04:07] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:07:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:07:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:07:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:07:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:07:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:07:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:07:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:08:14] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:08:15] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:08:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:08:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:08:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:08:40] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:09:21] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:09:22] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:09:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:09:42] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:10:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:10:16] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:11:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:11:31] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:12:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:12:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:12:20] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:12:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:12:40] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:14:41] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:16:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:16:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:17:20] [ERROR] app - Unhandled Exception: 'id'
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/vpc_controller.py", line 40, in create_vpc
    vpc = service.create(data)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 25, in create
    obj = self.vpc_repo.create(data.dict())
  File "/Users/kuruth/work/yt-core/app/repositories/cmp/vpc_repo.py", line 19, in create
    id=data["id"],
KeyError: 'id'
[2025-11-17 23:17:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:17:37] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:18:07] [ERROR] app - Unhandled Exception: (pymysql.err.DataError) (1366, "Incorrect integer value: 'aliyun' for column 'cloud_provider_code' at row 1")
[SQL: INSERT INTO cm_vpc (vpc_name, description, resource_group_id, cloud_provider_code, cloud_certificate_id, region_id, network_type, created_at, updated_at) VALUES (%(vpc_name)s, %(description)s, %(resource_group_id)s, %(cloud_provider_code)s, %(cloud_certificate_id)s, %(region_id)s, %(network_type)s, %(created_at)s, %(updated_at)s)]
[parameters: {'vpc_name': 'æµ‹è¯•', 'description': 'æµ‹è¯•', 'resource_group_id': 1, 'cloud_provider_code': 'aliyun', 'cloud_certificate_id': 1, 'region_id': 'cn-qingdao', 'network_type': '192', 'created_at': datetime.datetime(2025, 11, 17, 15, 18, 7, 717237, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 11, 17, 15, 18, 7, 717237, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.DataError: (1366, "Incorrect integer value: 'aliyun' for column 'cloud_provider_code' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/vpc_controller.py", line 40, in create_vpc
    vpc = service.create(data)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 25, in create
    obj = self.vpc_repo.create(data.dict())
  File "/Users/kuruth/work/yt-core/app/repositories/cmp/vpc_repo.py", line 30, in create
    self.db.commit()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.DataError: (pymysql.err.DataError) (1366, "Incorrect integer value: 'aliyun' for column 'cloud_provider_code' at row 1")
[SQL: INSERT INTO cm_vpc (vpc_name, description, resource_group_id, cloud_provider_code, cloud_certificate_id, region_id, network_type, created_at, updated_at) VALUES (%(vpc_name)s, %(description)s, %(resource_group_id)s, %(cloud_provider_code)s, %(cloud_certificate_id)s, %(region_id)s, %(network_type)s, %(created_at)s, %(updated_at)s)]
[parameters: {'vpc_name': 'æµ‹è¯•', 'description': 'æµ‹è¯•', 'resource_group_id': 1, 'cloud_provider_code': 'aliyun', 'cloud_certificate_id': 1, 'region_id': 'cn-qingdao', 'network_type': '192', 'created_at': datetime.datetime(2025, 11, 17, 15, 18, 7, 717237, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 11, 17, 15, 18, 7, 717237, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/9h9h)
[2025-11-17 23:19:27] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:19:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:20:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:20:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:20:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:20:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:21:33] [ERROR] app - Unhandled Exception: (pymysql.err.OperationalError) (1364, "Field 'id' doesn't have a default value")
[SQL: INSERT INTO cm_vpc (vpc_name, description, resource_group_id, cloud_provider_code, cloud_certificate_id, region_id, network_type, created_at, updated_at) VALUES (%(vpc_name)s, %(description)s, %(resource_group_id)s, %(cloud_provider_code)s, %(cloud_certificate_id)s, %(region_id)s, %(network_type)s, %(created_at)s, %(updated_at)s)]
[parameters: {'vpc_name': 'ceshi', 'description': 'ceshi', 'resource_group_id': 1, 'cloud_provider_code': 'aliyun', 'cloud_certificate_id': 1, 'region_id': 'cn-qingdao', 'network_type': '192', 'created_at': datetime.datetime(2025, 11, 17, 15, 21, 33, 419949, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 11, 17, 15, 21, 33, 419949, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.OperationalError: (1364, "Field 'id' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/vpc_controller.py", line 40, in create_vpc
    vpc = service.create(data)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 25, in create
    obj = self.vpc_repo.create(data.dict())
  File "/Users/kuruth/work/yt-core/app/repositories/cmp/vpc_repo.py", line 30, in create
    self.db.commit()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4467, in _flush
    transaction.rollback(_capture_exception=True)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 153, in execute
    result = self._query(query)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 575, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 826, in _read_query_result
    result.read()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 1203, in read
    first_packet = self.connection._read_packet()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/connections.py", line 782, in _read_packet
    packet.raise_for_error()
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/protocol.py", line 219, in raise_for_error
    err.raise_mysql_exception(self._data)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
    raise errorclass(errno, errval)
sqlalchemy.exc.OperationalError: (pymysql.err.OperationalError) (1364, "Field 'id' doesn't have a default value")
[SQL: INSERT INTO cm_vpc (vpc_name, description, resource_group_id, cloud_provider_code, cloud_certificate_id, region_id, network_type, created_at, updated_at) VALUES (%(vpc_name)s, %(description)s, %(resource_group_id)s, %(cloud_provider_code)s, %(cloud_certificate_id)s, %(region_id)s, %(network_type)s, %(created_at)s, %(updated_at)s)]
[parameters: {'vpc_name': 'ceshi', 'description': 'ceshi', 'resource_group_id': 1, 'cloud_provider_code': 'aliyun', 'cloud_certificate_id': 1, 'region_id': 'cn-qingdao', 'network_type': '192', 'created_at': datetime.datetime(2025, 11, 17, 15, 21, 33, 419949, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 11, 17, 15, 21, 33, 419949, tzinfo=datetime.timezone.utc)}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
[2025-11-17 23:22:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:22:52] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:25:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:25:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:25:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:25:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:27:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:27:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:27:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:27:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:28:03] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:28:03] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:28:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:28:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:30:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:30:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:31:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:31:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:32:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:35:32] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:36:29] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:36:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:39:34] [ERROR] app - Unhandled Exception: 1 validation error for VpcOut
id
  Input should be a valid string [type=string_type, input_value=1, input_type=int]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/vpc_controller.py", line 40, in create_vpc
    vpc = service.create(data)
  File "/Users/kuruth/work/yt-core/app/services/cmp/vpc_service.py", line 37, in create
    return VpcOut.model_validate(obj)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/pydantic/main.py", line 716, in model_validate
    return cls.__pydantic_validator__.validate_python(
pydantic_core._pydantic_core.ValidationError: 1 validation error for VpcOut
id
  Input should be a valid string [type=string_type, input_value=1, input_type=int]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
[2025-11-17 23:40:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:40:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:43:07] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:43:08] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:43:35] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:43:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:43:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:43:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:44:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:44:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:44:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:44:45] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:45:12] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:45:12] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:47:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:47:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:50:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:50:13] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:50:46] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:50:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:50:49] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:50:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:51:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:51:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:51:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:51:35] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:52:04] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:52:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-17 23:53:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-17 23:53:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:16:00] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:16:01] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:16:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:16:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:16:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:16:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:16:55] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:16:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:18:52] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:18:53] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:19:05] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:19:05] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:21:49] [INFO] app - [aliyun] åŒºåŸŸå·²å­˜åœ¨æ•°æ®åº“ï¼Œæ— éœ€åŒæ­¥
[2025-11-18 00:26:22] [INFO] app - [aliyun] åŒºåŸŸå·²å­˜åœ¨æ•°æ®åº“ï¼Œæ— éœ€åŒæ­¥
[2025-11-18 00:26:22] [INFO] app - [aliyun] åŒºåŸŸå·²å­˜åœ¨æ•°æ®åº“ï¼Œæ— éœ€åŒæ­¥
[2025-11-18 00:26:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:26:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:27:18] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:27:19] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:27:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:27:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:30:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:30:06] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:31:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:31:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:32:51] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:32:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:33:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:33:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:33:38] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:33:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:33:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:33:56] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:34:22] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:34:23] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:34:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:34:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:34:48] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:34:49] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:35:11] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:35:11] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:35:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:35:48] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:36:44] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:36:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:36:54] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:36:54] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:38:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:38:17] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:38:30] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:38:30] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:38:56] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:38:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:38:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:38:59] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:39:09] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:39:09] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:39:33] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:39:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:39:37] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:39:38] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:39:43] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:39:44] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:40:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:54:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:55:16] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:56:20] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:56:39] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:56:39] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:57:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:57:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:57:57] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:57:57] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:58:34] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:58:34] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 00:58:47] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 00:58:47] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:00:31] [ERROR] app - Unhandled Exception: å­ç½‘ 1 ä¸å­˜åœ¨
Traceback (most recent call last):
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 125, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 111, in app
    response = await f(request)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 391, in app
    raw_response = await run_endpoint_function(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 292, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "/Users/kuruth/work/yt-core/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/kuruth/work/yt-core/app/controllers/cmp/subnet_controller.py", line 34, in release_subnet
    result = service.release(subnet_id, cloud_provider_code)
  File "/Users/kuruth/work/yt-core/app/services/cmp/subnet_service.py", line 69, in release
    raise ValueError(f"å­ç½‘ {subnet_id} ä¸å­˜åœ¨")
ValueError: å­ç½‘ 1 ä¸å­˜åœ¨
[2025-11-18 01:01:45] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:01:46] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:05:13] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:05:14] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:05:28] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:05:28] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:05:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:05:50] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:06:50] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:06:51] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:07:08] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:09:27] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:10:06] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:10:07] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:10:10] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:10:10] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:10:17] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:10:18] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:10:32] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:10:33] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:10:42] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:10:43] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:10:58] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:10:58] [INFO] app - ğŸš€ Application starting up...
[2025-11-18 01:11:31] [INFO] app - ğŸ›‘ Application shutting down...
[2025-11-18 01:11:32] [INFO] app - ğŸš€ Application starting up...
